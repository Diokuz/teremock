<!DOCTYPE html>
<html lang='ru'>
  <head>
    <meta charset='utf-8'>
    <style>
      html, body {
        font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        margin: 0;
        display: flex;
        width: 100%;
        height: 100%;
        justify-content: center;
        align-items: center;
        background: #eee;
      }
      button {
        font-size: 40px;
        padding: 10px 24px;
        background: #fff;
        border: 0;
        box-shadow: 0 0 1px #aaa;
      }
    </style>

    <title>Teremock // Websocket response example</title>
  </head>

  <body>
    <button id='button'>Click to start WS connection</button>
    <script>
      document.querySelector('#button').addEventListener('click', (e) => {
        // Example from here https://developer.mozilla.org/en-US/docs/Web/API/WebSocket
        // Note! There is no real socket listener on server!
        // All responses from inline mocks
        const socket = new WebSocket('ws://localhost:4000')

        socket.addEventListener('open', function (event) {
          socket.send('Hello Server!')
        })

        socket.addEventListener('message', function (event) {
          console.log('Message from server ', event.data)
        })
      })
    </script>
  </body>
</html>
